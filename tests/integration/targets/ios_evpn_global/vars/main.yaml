---
merged:
  before: {}
  commands:
    - l2vpn evpn
    - replication-type ingress
    - route-target auto vni
    - router-id loopback1
    - ip local-learning disable
  after:
    replication_type: ingress
    route_target:
      auto:
        vni: true
    router_id: Loopback1
    ip:
      local_learning: 
        disable: true

replaced:
  before:
    replication_type: ingress
    route_target:
      auto:
        vni: true
    router_id: Loopback1
    ip:
      local_learning: 
        disable: true
  commands:
    - l2vpn evpn
    - default-gateway advertise
    - flooding-suppression address-resolution disable
    - no ip local-learning disable
    - replication-type static
    - no route-target auto vni
    - router-id loopback2
  after:
    replication_type: static
    router_id: Loopback2
    flooding_suppression:
      address_resolution:
        disable: true
    default_gateway:
      advertise: false

deleted:
  before:
    replication_type: ingress
    route_target:
      auto:
        vni: true
    router_id: Loopback1
    ip:
      local_learning:
        disable: true
  commands:
    - no l2vpn evpn
  after: {}

rendered:
  commands:
    - l2vpn evpn
    - replication-type static
    - route-target auto vni

gathered:
  after:
    replication_type: ingress
    route_target:
      auto:
        vni: true
    router_id: Loopback1
    ip:
      local_learning: 
        disable: true

parsed:
  after:
    replication_type: ingress
    route_target:
      auto:
        vni: true
    router_id: Loopback1
    default_gateway:
      advertise: true
