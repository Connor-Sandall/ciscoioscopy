---
merged:
  before:
    - name: Loopback888
    - name: Loopback999
    - ipv4:
        - dhcp:
            enable: true
      name: GigabitEthernet1
    - ipv4:
        - address: 203.0.113.27/24
      name: GigabitEthernet2
    - ipv4:
        - address: 192.0.2.1/24
          secondary: true
        - address: 192.0.2.2/24
      ipv6:
        - address: 2001:DB8:0:3::/64
        - autoconfig:
            enable: true
      name: GigabitEthernet3
    - ipv4:
        - vrf: ansible-test-ipv4
        - address: 192.168.4.1/24
      name: GigabitEthernet4
    - ipv4:
        - address: 192.168.5.1/24
      vrf: ansible-test
      name: GigabitEthernet5
    - ipv4:
        - address: 192.168.255.100/24
      ipv6:
        - address: 2001:DB8::100/64
      name: GigabitEthernet6
    - ipv4:
        - address: 169.254.1.1/24
      name: GigabitEthernet7
    - name: GigabitEthernet8

  commands:
    - interface loopback999
    - ip address 192.0.99.1 255.255.255.0
    - interface GigabitEthernet2
    - ipv6 address autoconfig
    - interface GigabitEthernet3
    - ip address 198.51.100.1 255.255.255.0 secondary
    - ip address 198.51.100.2 255.255.255.0
    - interface GigabitEthernet4
    - vrf forwarding ansible-test
    - ip address 192.168.4.1 255.255.255.0
    - interface GigabitEthernet5
    - ip vrf forwarding ansible-test-ipv4
    - ip address 192.168.5.1 255.255.255.0
    - interface GigabitEthernet6
    - vrf forwarding ansible-test
    - ip address 192.168.255.100 255.255.255.0
    - ipv6 address 2001:db8::100/64
    - standby 4 ip 192.168.255.1
    - vrrp 123 ip 192.168.255.2
    - glbp 4 ip 192.168.255.3
    - standby 6 ipv6 autoconfig
    - glbp 6 ipv6 FE80::1
    - ip igmp join-group 239.1.2.3
    - interface GigabitEthernet8
    - ip vrf forwarding ansible-test-ipv4
    - ip address 192.168.8.1 255.255.255.0

  after:
    - name: Loopback888
    - ipv4:
        - address: 192.0.99.1/24
      name: Loopback999
    - ipv4:
        - dhcp:
            enable: true
      name: GigabitEthernet1
    - ipv4:
        - address: 203.0.113.27/24
      ipv6:
        - autoconfig:
            enable: true
      name: GigabitEthernet2
    - ipv4:
        - address: 192.0.2.1/24
          secondary: true
        - address: 198.51.100.1/24
          secondary: true
        - address: 198.51.100.2/24
      ipv6:
        - address: 2001:DB8:0:3::/64
        - autoconfig:
            enable: true
      name: GigabitEthernet3
    - ipv4:
        - address: 192.168.4.1/24
      vrf: ansible-test
      name: GigabitEthernet4
    - ipv4:
        - vrf: ansible-test-ipv4
        - address: 192.168.5.1/24
      name: GigabitEthernet5
    - ipv4:
        - address: 192.168.255.100/24
      ipv6:
        - address: 2001:DB8::100/64
      vrf: ansible-test
      name: GigabitEthernet6
    - ipv4:
        - address: 169.254.1.1/24
      name: GigabitEthernet7
    - ipv4:
        - vrf: ansible-test-ipv4
        - address: 192.168.8.1/24
      name: GigabitEthernet8

replaced:
  before:
    - name: Loopback888
    - name: Loopback999
    - ipv4:
        - dhcp:
            enable: true
      name: GigabitEthernet1
    - ipv4:
        - address: 203.0.113.27/24
      name: GigabitEthernet2
    - ipv4:
        - address: 192.0.2.1/24
          secondary: true
        - address: 192.0.2.2/24
      ipv6:
        - address: 2001:DB8:0:3::/64
        - autoconfig:
            enable: true
      name: GigabitEthernet3
    - ipv4:
        - vrf: ansible-test-ipv4
        - address: 192.168.4.1/24
      name: GigabitEthernet4
    - ipv4:
        - address: 192.168.5.1/24
      vrf: ansible-test
      name: GigabitEthernet5
    - ipv4:
        - address: 192.168.255.100/24
      ipv6:
        - address: 2001:DB8::100/64
      name: GigabitEthernet6
    - ipv4:
        - address: 169.254.1.1/24
      name: GigabitEthernet7
    - name: GigabitEthernet8

  commands:
    - interface GigabitEthernet2
    - no ip address 203.0.113.27 255.255.255.0
    - ip address 203.0.114.1 255.255.255.0
    - interface GigabitEthernet3
    - no ipv6 address autoconfig
    - no ipv6 address 2001:db8:0:3::/64
    - no ip address 192.0.2.2 255.255.255.0
    - no ip address 192.0.2.1 255.255.255.0 secondary
    - ipv6 address 2001:db8:1:1::/64
    - ip address 198.51.100.2 255.255.255.0
    - ip address 198.51.100.1 255.255.255.0 secondary
    - interface GigabitEthernet4
    - no ip vrf forwarding ansible-test-ipv4
    - no ip address 192.168.4.1 255.255.255.0
    - ip address 192.168.44.1 255.255.255.0
    - interface GigabitEthernet5
    - no vrf forwarding ansible-test
    - no ip address 192.168.5.1 255.255.255.0
    - ip address 192.168.55.1 255.255.255.0
    - interface GigabitEthernet6
    - vrf forwarding ansible-test
    - no ip address 192.168.255.100 255.255.255.0
    - ip address 192.168.255.101 255.255.255.0
    - ip address 1.2.3.4 255.255.255.0 secondary
    - ipv6 address 2001:db8::100/64
    - standby 4 ip 192.168.255.1
    - vrrp 123 ip 192.168.255.2
    - glbp 4 ip 192.168.255.3
    - standby 6 ipv6 autoconfig
    - glbp 6 ipv6 FE80::1
    - ip igmp join-group 239.1.2.3

  after:
    - name: Loopback888
    - name: Loopback999
    - ipv4:
        - dhcp:
            enable: true
      name: GigabitEthernet1
    - ipv4:
        - address: 203.0.114.1/24
      name: GigabitEthernet2
    - ipv4:
        - address: 198.51.100.1/24
          secondary: true
        - address: 198.51.100.2/24
      ipv6:
        - address: 2001:DB8:1:1::/64
      name: GigabitEthernet3
    - ipv4:
        - address: 192.168.44.1/24
      name: GigabitEthernet4
    - ipv4:
        - address: 192.168.55.1/24
      name: GigabitEthernet5
    - ipv4:
        - address: 1.2.3.4/24
          secondary: true
        - address: 192.168.255.101/24
      ipv6:
        - address: 2001:DB8::100/64
      vrf: ansible-test
      name: GigabitEthernet6
    - ipv4:
        - address: 169.254.1.1/24
      name: GigabitEthernet7
    - name: GigabitEthernet8

overridden:
  before:
    - name: Loopback888
    - name: Loopback999
    - ipv4:
        - dhcp:
            enable: true
      name: GigabitEthernet1
    - ipv4:
        - address: 203.0.113.27/24
      name: GigabitEthernet2
    - ipv4:
        - address: 192.0.2.1/24
          secondary: true
        - address: 192.0.2.2/24
      ipv6:
        - address: 2001:DB8:0:3::/64
        - autoconfig:
            enable: true
      name: GigabitEthernet3
    - ipv4:
        - vrf: ansible-test-ipv4
        - address: 192.168.4.1/24
      name: GigabitEthernet4
    - ipv4:
        - address: 192.168.5.1/24
      vrf: ansible-test
      name: GigabitEthernet5
    - ipv4:
        - address: 192.168.255.100/24
      ipv6:
        - address: 2001:DB8::100/64
      name: GigabitEthernet6
    - ipv4:
        - address: 169.254.1.1/24
      name: GigabitEthernet7
    - name: GigabitEthernet8

  commands:
    - interface GigabitEthernet2
    - no ip address 203.0.113.27 255.255.255.0
    - interface GigabitEthernet3
    - no ipv6 address autoconfig
    - no ipv6 address 2001:db8:0:3::/64
    - no ip address 192.0.2.2 255.255.255.0
    - no ip address 192.0.2.1 255.255.255.0 secondary
    - ip address 198.51.100.2 255.255.255.0 secondary
    - ip address 198.51.100.1 255.255.255.0
    - interface GigabitEthernet4
    - no ip vrf forwarding ansible-test-ipv4
    - no ip address 192.168.4.1 255.255.255.0
    - interface GigabitEthernet5
    - no vrf forwarding ansible-test
    - no ip address 192.168.5.1 255.255.255.0
    - interface GigabitEthernet6
    - no ip address 192.168.255.100 255.255.255.0
    - no ipv6 address 2001:db8::100/64

  after:
    - name: Loopback888
    - name: Loopback999
    - ipv4:
        - dhcp:
            enable: true
      name: GigabitEthernet1
    - name: GigabitEthernet2
    - ipv4:
        - address: 198.51.100.2/24
          secondary: true
        - address: 198.51.100.1/24
      name: GigabitEthernet3
    - name: GigabitEthernet4
    - name: GigabitEthernet5
    - name: GigabitEthernet6
    - ipv4:
        - address: 169.254.1.1/24
      name: GigabitEthernet7
    - name: GigabitEthernet8

deleted:
  before:
    - name: Loopback888
    - name: Loopback999
    - ipv4:
        - dhcp:
            enable: true
      name: GigabitEthernet1
    - ipv4:
        - address: 203.0.113.27/24
      name: GigabitEthernet2
    - ipv4:
        - address: 192.0.2.1/24
          secondary: true
        - address: 192.0.2.2/24
      ipv6:
        - address: 2001:DB8:0:3::/64
        - autoconfig:
            enable: true
      name: GigabitEthernet3
    - ipv4:
        - vrf: ansible-test-ipv4
        - address: 192.168.4.1/24
      name: GigabitEthernet4
    - ipv4:
        - address: 192.168.5.1/24
      vrf: ansible-test
      name: GigabitEthernet5
    - ipv4:
        - address: 192.168.255.100/24
      ipv6:
        - address: 2001:DB8::100/64
      name: GigabitEthernet6
    - ipv4:
        - address: 169.254.1.1/24
      name: GigabitEthernet7
    - name: GigabitEthernet8
  commands:
    - interface GigabitEthernet2
    - no ip address 203.0.113.27 255.255.255.0
    - interface GigabitEthernet3
    - no ip address 192.0.2.1 255.255.255.0 secondary
    - no ip address 192.0.2.2 255.255.255.0
    - no ipv6 address 2001:db8:0:3::/64
    - no ipv6 address autoconfig
  after:
    - name: Loopback888
    - name: Loopback999
    - ipv4:
        - dhcp:
            enable: true
      name: GigabitEthernet1
    - name: GigabitEthernet2
    - name: GigabitEthernet3
    - ipv4:
        - vrf: ansible-test-ipv4
        - address: 192.168.4.1/24
      name: GigabitEthernet4
    - ipv4:
        - address: 192.168.5.1/24
      vrf: ansible-test
      name: GigabitEthernet5
    - ipv4:
        - address: 192.168.255.100/24
      ipv6:
        - address: 2001:DB8::100/64
      name: GigabitEthernet6
    - ipv4:
        - address: 169.254.1.1/24
      name: GigabitEthernet7
    - name: GigabitEthernet8

gathered:
  config:
    - name: Loopback888
    - name: Loopback999
    - ipv4:
        - dhcp:
            enable: true
      name: GigabitEthernet1
    - ipv4:
        - address: 203.0.113.27/24
      name: GigabitEthernet2
    - ipv4:
        - address: 169.254.1.1/24
      name: GigabitEthernet7
    - ipv4:
        - address: 192.0.2.1/24
          secondary: true
        - address: 192.0.2.2/24
      ipv6:
        - address: 2001:DB8:0:3::/64
        - autoconfig:
            enable: true
      name: GigabitEthernet3
    - ipv4:
        - vrf: ansible-test-ipv4
        - address: 192.168.4.1/24
      name: GigabitEthernet4
    - ipv4:
        - address: 192.168.5.1/24
      vrf: ansible-test
      name: GigabitEthernet5
    - ipv4:
        - address: 192.168.255.100/24
      ipv6:
        - address: 2001:DB8::100/64
      name: GigabitEthernet6
    - ipv4:
        - address: 169.254.1.1/24
      name: GigabitEthernet7
    - name: GigabitEthernet8

parsed:
  config:
    - ipv4:
        - dhcp:
            client_id: GigabitEthernet0/0
            enable: true
            hostname: test.com
      name: GigabitEthernet2
    - ipv4:
        - address: 198.51.100.1/24
          secondary: true
        - address: 198.51.100.2/24
      ipv6:
        - autoconfig:
            enable: true
        - address: 2001:db8:0:3::/64
      name: GigabitEthernet3

rtt:
  commands:
    - interface loopback999
    - no ip address 192.0.2.2 255.255.255.0
    - ip address 192.0.2.1 255.255.255.0
    - interface GigabitEthernet5
    - no ip vrf forwarding ansible-test-ipv4
    - vrf forwarding ansible-test
    - no ip address 192.168.55.1 255.255.255.0
    - ip address 192.168.5.1 255.255.255.0
    - interface GigabitEthernet6
    - no vrf forwarding ansible-test
    - ip address 192.168.255.100 255.255.255.0
    - no ip address 192.168.25.1 255.255.255.0
    - ipv6 address 2001:db8::100/64
    - no ipv6 address 2001:db8::101/64

rendered:
  commands:
    - interface loopback999
    - ip address 192.0.2.1 255.255.255.0
    - interface GigabitEthernet2
    - ip address dhcp client-id GigabitEthernet0/0 hostname test.com
    - ipv6 address autoconfig
    - interface GigabitEthernet3
    - ip address 198.51.100.1 255.255.255.0 secondary
    - ip address 198.51.100.2 255.255.255.0
    - ipv6 address dhcp
    - ipv6 address 2001:db8:0:3::/64
