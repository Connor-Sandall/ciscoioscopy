---
merged:
  before: {}
  commands:
    - vrf definition VRF2
    - description This is a test VRF for merged state
    - ipv4 multicast multitopology
    - ipv6 multicast multitopology
    - rd 2:3
    - route-target export 23.1.3.4:400
    - route-target import 10.1.3.4:400
    - vnet tag 200
    - vpn id 2:45

  after:
    vrfs:
      - name: VRF2
        description: This is a test VRF for merged state
        ipv4:
          multicast:
            multitopology: true
        ipv6:
          multicast:
            multitopology: true
        rd: "2:3"
        route_target:
          export: "23.1.3.4:400"
          import_config: "10.1.3.4:400"
        vpn:
          id: "2:45"
        vnet:
          tag: 200

replaced:
  commands:
    - vrf definition VRF7
    - description VRF7 description
    - ipv4 multicast multitopology
    - ipv6 multicast multitopology
    - rd 7:8
    - route-target export 23.1.3.4:500
    - route-target import 12.1.3.4:400
    - vnet tag 300
    - vpn id 5:45
  after:
    vrfs:
      - name: VRF2
        description: This is a test VRF for merged state
        ipv4:
          multicast:
            multitopology: true
        ipv6:
          multicast:
            multitopology: true
        rd: "2:3"
        route_target:
          export: "23.1.3.4:400"
          import_config: "10.1.3.4:400"
        vpn:
          id: "2:45"
        vnet:
          tag: 200
      - name: VRF7
        description: VRF7 description
        ipv4:
          multicast:
            multitopology: true
        ipv6:
          multicast:
            multitopology: true
        rd: "7:8"
        route_target:
          export: "23.1.3.4:500"
          import_config: "12.1.3.4:400"
        vpn:
          id: "5:45"
        vnet:
          tag: 300

overridden:
  commands:
    - vrf definition VRF6
    - description VRF6 description
    - ipv4 multicast multitopology
    - ipv6 multicast multitopology
    - rd 6:7
    - route-target export 3.1.3.4:400
    - route-target import 1.12.3.4:200
    - vnet tag 500
    - vpn id 4:5
  after:
    vrfs:
      - name: VRF6
        description: VRF6 description
        ipv4:
          multicast:
            multitopology: true
        ipv6:
          multicast:
            multitopology: true
        rd: "6:7"
        route_target:
          export: "3.1.3.4:400"
          import_config: "1.12.3.4:200"
        vpn:
          id: "4:5"
        vnet:
          tag: 500

deleted:
  commands:
    - vrf definition VRF2
    - no description This is a test VRF for merged state
    - no ipv4 multicast multitopology
    - no ipv6 multicast multitopology
    - no rd 2:3
    - no route-target export 23.1.3.4:400
    - no route-target import 10.1.3.4:400
    - no vnet tag 200
    - no vpn id 2:45

  after:
    vrfs:
      - name: VRF2

rtt:
  commands:
    - vrf definition VRF2
    - no description This is a test VRF for merged state
    - no ipv4 multicast multitopology
    - no ipv6 multicast multitopology
    - no rd 2:3
    - no route-target export 23.1.3.4:400
    - no route-target import 10.1.3.4:400
    - no vnet tag 200
    - no vpn id 2:45
    - vrf definition VRF6
    - description VRF6 description
    - ipv4 multicast multitopology
    - ipv6 multicast multitopology
    - rd 6:7
    - route-target export 3.1.3.4:400
    - route-target import 1.12.3.4:200
    - vnet tag 500
    - vpn id 4:5
